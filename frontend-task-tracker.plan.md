<!-- 331bc964-fb49-44a9-8ef0-e9a1117c9271 51644186-2fff-4f00-afec-b6bc245a2ff7 -->
# Frontend для системы отслеживания задач сотрудников

## Архитектура

**Стек технологий:**

- React 19 + TypeScript
- Ant Design для UI компонентов
- React Router для маршрутизации
- React Context API для управления состоянием
- Axios для HTTP запросов

**Структура проекта:**

```
src/
├── api/          # HTTP клиенты и API сервисы
├── components/   # Переиспользуемые компоненты
├── contexts/     # Context providers (Auth)
├── pages/        # Страницы приложения
├── types/        # TypeScript типы
└── utils/        # Вспомогательные функции
```

## Основные компоненты

### 1. Инфраструктура и типы

- Установка зависимостей: `antd`, `react-router-dom`, `axios`, `dayjs`
- Создание TypeScript типов для всех API моделей (User, Task, Comment, Auth)
- Настройка axios instance с поддержкой JWT токенов
- API сервисы для всех эндпоинтов backend

### 2. Аутентификация

- `AuthContext` для хранения пользователя и токена
- Компонент `LoginPage` с формой входа
- Protected routes для авторизованных пользователей
- Автоматическая проверка токена при загрузке приложения

### 3. Макет приложения

- `Layout` компонент с навигацией (Ant Design Layout)
- Меню различается для руководителя и сотрудника
- Header с информацией о пользователе и кнопкой выхода

### 4. Функционал для руководителя

**Страница сотрудников (`/employees`):**

- Таблица со всеми сотрудниками
- Модальное окно для создания нового сотрудника
- Действия: просмотр, редактирование, удаление

**Страница задач (`/manager/tasks`):**

- Таблица всех задач с фильтрацией по сотруднику
- Модальное окно создания задачи с выбором сотрудника и дедлайна
- Просмотр прогресса выполнения
- Переход к детальному просмотру задачи

**Детальная страница задачи (`/tasks/:id`):**

- Полная информация о задаче
- Секция комментариев с возможностью добавления
- История комментариев от всех участников

### 5. Функционал для сотрудника

**Мои задачи (`/my-tasks`):**

- Список задач текущего пользователя
- Карточки задач с индикатором прогресса
- Цветовая индикация дедлайнов (просрочено/скоро/в срок)

**Детальная страница задачи (`/tasks/:id`):**

- Просмотр задачи
- Slider для обновления прогресса (0-100%)
- Добавление комментариев
- Кнопка сохранения прогресса

### 6. Общие компоненты

- `ProtectedRoute` - обертка для защищенных маршрутов
- `TaskCard` - карточка задачи
- `CommentList` - список комментариев
- `CommentForm` - форма добавления комментария

## Интеграция с Backend

**API эндпоинты (из router.go):**

- POST `/api/v1/login` - вход
- POST `/api/v1/register` - регистрация
- GET `/api/v1/users` - список пользователей (только manager)
- POST `/api/v1/tasks` - создание задачи
- GET `/api/v1/tasks?employee_id=X` - задачи сотрудника
- PUT `/api/v1/tasks/:id` - обновление задачи
- POST `/api/v1/comments` - создание комментария
- GET `/api/v1/comments?task_id=X` - комментарии задачи

**Авторизация:**

- JWT токен в заголовке `Authorization: Bearer <token>`
- Сохранение токена в localStorage
- Backend CORS настроен на `http://localhost:3000` (изменить на `5173` для Vite)

## Роутинг

```
/ → перенаправление на /login или /dashboard
/login → страница входа
/dashboard → главная (для manager - задачи, для employee - мои задачи)
/employees → управление сотрудниками (только manager)
/tasks/:id → детальная страница задачи
```

## UI/UX особенности

- Русский язык интерфейса (настройка ConfigProvider из Ant Design)
- Адаптивный дизайн
- Уведомления об успехе/ошибке операций (Ant Design notification)
- Индикаторы загрузки при HTTP запросах
- Форматирование дат в читаемый формат
- Цветовая индикация статусов и дедлайнов

## Файлы для создания/изменения

**Конфигурация:**

- `package.json` - добавить зависимости
- `vite.config.ts` - настроить proxy для API

**Основные файлы:**

- `src/types/index.ts` - все TypeScript типы
- `src/api/axiosConfig.ts` - настройка axios
- `src/api/authApi.ts`, `taskApi.ts`, `userApi.ts`, `commentApi.ts` - API сервисы
- `src/contexts/AuthContext.tsx` - контекст аутентификации
- `src/App.tsx` - роутинг приложения
- `src/main.tsx` - обернуть в ConfigProvider с русской локалью

**Страницы:**

- `src/pages/LoginPage.tsx`
- `src/pages/EmployeesPage.tsx`
- `src/pages/ManagerTasksPage.tsx`
- `src/pages/MyTasksPage.tsx`
- `src/pages/TaskDetailPage.tsx`
- `src/components/Layout.tsx`

### To-dos

- [ ] Установить необходимые npm зависимости (antd, react-router-dom, axios, dayjs)
- [ ] Создать TypeScript типы для API моделей
- [ ] Настроить axios и создать API сервисы для всех эндпоинтов
- [ ] Реализовать AuthContext для управления аутентификацией
- [ ] Настроить React Router и структуру маршрутов
- [ ] Создать Layout компонент с навигацией
- [ ] Создать страницу входа с формой аутентификации
- [ ] Создать страницы для руководителя (сотрудники, задачи)
- [ ] Создать страницы для сотрудника (мои задачи)
- [ ] Создать детальную страницу задачи с комментариями
- [ ] Добавить локализацию на русский, улучшить UI/UX